@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        --app-ink: #e7e1d8;
        --app-ink-muted: #b9b2a6;
        --app-surface: #0b1114;
        --app-surface-2: #111b1f;
        --app-card: rgba(13, 21, 25, 0.82);
        --app-accent: #27c2b0;
        --app-accent-strong: #13a999;
        --app-warm: #64e2d6;
        --app-ring: rgba(39, 194, 176, 0.38);
        --app-border: rgba(94, 234, 212, 0.18);
        --app-border-strong: rgba(94, 234, 212, 0.32);
        --app-glow: rgba(39, 194, 176, 0.18);
        --app-shadow: 0 18px 50px -28px rgba(6, 19, 24, 0.9);
        --app-shadow-soft: 0 12px 30px -22px rgba(3, 12, 16, 0.9);
    }

    .theme-nightfall {
        color: var(--app-ink);
        background-color: var(--app-surface);
        font-family: "Sora", ui-sans-serif, system-ui, -apple-system, "Segoe UI", sans-serif;
    }

    .theme-nightfall h1,
    .theme-nightfall h2,
    .theme-nightfall h3,
    .theme-nightfall h4,
    .theme-nightfall h5,
    .theme-nightfall h6 {
        font-family: "Fraunces", "Sora", ui-sans-serif, system-ui, -apple-system, "Segoe UI", sans-serif;
        letter-spacing: -0.01em;
    }

    .app-shell {
        position: relative;
        background:
            radial-gradient(900px 450px at 12% -8%, rgba(39, 194, 176, 0.2), transparent 62%),
            radial-gradient(700px 420px at 88% 2%, rgba(100, 226, 214, 0.16), transparent 60%),
            linear-gradient(180deg, #0b1114 0%, #0f171c 45%, #0b1114 100%);
    }

    .app-shell::before,
    .app-shell::after {
        content: "";
        position: absolute;
        pointer-events: none;
        border-radius: 999px;
        filter: blur(0);
        opacity: 0.55;
        mix-blend-mode: screen;
    }

    .app-shell::before {
        width: 480px;
        height: 480px;
        left: -120px;
        bottom: -160px;
        background: radial-gradient(circle, rgba(20, 184, 166, 0.25), transparent 70%);
    }

    .app-shell::after {
        width: 420px;
        height: 420px;
        right: -140px;
        top: 120px;
        background: radial-gradient(circle, rgba(100, 226, 214, 0.2), transparent 70%);
    }

    .app-panel {
        background: linear-gradient(135deg, rgba(16, 25, 29, 0.96), rgba(12, 20, 24, 0.9));
        border: 1px solid rgba(94, 234, 212, 0.16);
        box-shadow: var(--app-shadow-soft);
        backdrop-filter: blur(10px);
    }

    .app-card {
        position: relative;
        background: linear-gradient(135deg, rgba(11, 18, 22, 0.96), rgba(10, 16, 20, 0.9));
        border: 1px solid var(--app-border);
        box-shadow: var(--app-shadow-soft);
        transition: transform 180ms ease, box-shadow 180ms ease, border-color 180ms ease;
    }

    .app-card::after {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: inherit;
        border: 1px solid transparent;
        background: linear-gradient(135deg, rgba(94, 234, 212, 0.2), rgba(100, 226, 214, 0.2)) border-box;
        -webkit-mask: linear-gradient(#000 0 0) padding-box, linear-gradient(#000 0 0);
        -webkit-mask-composite: xor;
        mask-composite: exclude;
        opacity: 0.18;
        pointer-events: none;
    }

    .app-card:hover {
        transform: translateY(-2px);
        border-color: var(--app-border-strong);
        box-shadow: 0 20px 50px -26px rgba(6, 19, 24, 0.95);
    }

    .app-chip {
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        padding: 0.2rem 0.6rem;
        border-radius: 999px;
        font-weight: 600;
        font-size: 0.7rem;
        letter-spacing: 0.02em;
        text-transform: uppercase;
        background: rgba(39, 194, 176, 0.12);
        color: #bff3eb;
        border: 1px solid rgba(39, 194, 176, 0.35);
    }

    .app-chip--warm {
        background: rgba(100, 226, 214, 0.16);
        border-color: rgba(100, 226, 214, 0.4);
        color: #bff9f1;
    }

    .app-tab {
        position: relative;
        padding-bottom: 0.9rem;
        font-weight: 600;
        color: rgba(231, 225, 216, 0.6);
        transition: color 180ms ease;
    }

    .app-tab.active {
        color: #e7e1d8;
    }

    .app-tab.active::after {
        content: "";
        position: absolute;
        left: 0;
        right: 0;
        bottom: -2px;
        height: 2px;
        border-radius: 999px;
        background: linear-gradient(90deg, rgba(39, 194, 176, 0.95), rgba(100, 226, 214, 0.85));
        box-shadow: 0 0 16px rgba(39, 194, 176, 0.6);
    }

    .app-field {
        background: rgba(15, 24, 30, 0.8);
        border: 1px solid rgba(94, 234, 212, 0.2);
        color: var(--app-ink);
        box-shadow: inset 0 0 0 1px rgba(15, 24, 30, 0.5);
    }

    .app-field:focus {
        border-color: rgba(39, 194, 176, 0.7);
        box-shadow: 0 0 0 3px rgba(39, 194, 176, 0.22);
    }

    .app-section-title {
        font-size: 1.05rem;
        font-weight: 600;
        letter-spacing: -0.01em;
        color: #f5f2eb;
    }

    .app-meta {
        font-size: 0.78rem;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: rgba(231, 225, 216, 0.58);
    }
}

/* Print Styles */
@media print {
    /* Hide navigation, header, and non-essential elements */
    nav[aria-label="Tabs"],
    button[aria-controls],
    .no-print {
        display: none !important;
    }

    /* Show all tab content when printing */
    [role="tabpanel"] {
        display: block !important;
        opacity: 1 !important;
    }

    /* Optimize gantt chart for printing */
    .bg-gray-50,
    .bg-gray-900 {
        background-color: white !important;
    }

    /* Ensure colors are visible in print */
    .bg-emerald-500,
    .bg-emerald-600 {
        background-color: #10b981 !important;
        print-color-adjust: exact;
        -webkit-print-color-adjust: exact;
    }

    .bg-gray-200,
    .bg-gray-700 {
        background-color: #e5e7eb !important;
        border: 1px solid #d1d5db !important;
    }

    /* Remove shadows and transitions for print */
    * {
        box-shadow: none !important;
        transition: none !important;
    }

    /* Optimize page breaks */
    .gantt-section {
        page-break-inside: avoid;
    }

    /* Set page margins */
    @page {
        margin: 1cm;
    }
}
