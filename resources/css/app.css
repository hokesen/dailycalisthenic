@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        --app-ink: #e7e1d8;
        --app-ink-muted: #b9b2a6;
        --app-surface: #0b1114;
        --app-surface-2: #111b1f;
        --app-card: rgba(13, 21, 25, 0.82);
        --app-accent: #27c2b0;
        --app-accent-strong: #13a999;
        --app-warm: #64e2d6;
        --app-ring: rgba(39, 194, 176, 0.38);
        --app-border: rgba(94, 234, 212, 0.18);
        --app-border-strong: rgba(94, 234, 212, 0.32);
        --app-glow: rgba(39, 194, 176, 0.18);
        --app-shadow: 0 18px 50px -28px rgba(6, 19, 24, 0.9);
        --app-shadow-soft: 0 12px 30px -22px rgba(3, 12, 16, 0.9);
    }

    .theme-nightfall {
        color: var(--app-ink);
        background-color: var(--app-surface);
        font-family: "Sora", ui-sans-serif, system-ui, -apple-system, "Segoe UI", sans-serif;
    }

    .theme-nightfall h1,
    .theme-nightfall h2,
    .theme-nightfall h3,
    .theme-nightfall h4,
    .theme-nightfall h5,
    .theme-nightfall h6 {
        font-family: "Fraunces", "Sora", ui-sans-serif, system-ui, -apple-system, "Segoe UI", sans-serif;
        letter-spacing: -0.01em;
    }

    .app-shell {
        position: relative;
        background:
            radial-gradient(900px 450px at 12% -8%, rgba(39, 194, 176, 0.2), transparent 62%),
            radial-gradient(700px 420px at 88% 2%, rgba(100, 226, 214, 0.16), transparent 60%),
            linear-gradient(180deg, #0b1114 0%, #0f171c 45%, #0b1114 100%);
    }

    .app-shell::before,
    .app-shell::after {
        content: "";
        position: absolute;
        pointer-events: none;
        border-radius: 999px;
        filter: blur(0);
        opacity: 0.55;
        mix-blend-mode: screen;
    }

    .app-shell::before {
        width: 480px;
        height: 480px;
        left: -120px;
        bottom: -160px;
        background: radial-gradient(circle, rgba(20, 184, 166, 0.25), transparent 70%);
    }

    .app-shell::after {
        width: 420px;
        height: 420px;
        right: -140px;
        top: 120px;
        background: radial-gradient(circle, rgba(100, 226, 214, 0.2), transparent 70%);
    }

    .app-panel {
        background: linear-gradient(135deg, rgba(16, 25, 29, 0.96), rgba(12, 20, 24, 0.9));
        border: 1px solid rgba(94, 234, 212, 0.16);
        box-shadow: var(--app-shadow-soft);
        backdrop-filter: blur(10px);
    }

    .app-card {
        position: relative;
        background: linear-gradient(135deg, rgba(11, 18, 22, 0.96), rgba(10, 16, 20, 0.9));
        border: 1px solid var(--app-border);
        box-shadow: var(--app-shadow-soft);
        transition: transform 180ms ease, box-shadow 180ms ease, border-color 180ms ease;
    }

    .app-card::after {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: inherit;
        border: 1px solid transparent;
        background: linear-gradient(135deg, rgba(94, 234, 212, 0.2), rgba(100, 226, 214, 0.2)) border-box;
        -webkit-mask: linear-gradient(#000 0 0) padding-box, linear-gradient(#000 0 0);
        -webkit-mask-composite: xor;
        mask-composite: exclude;
        opacity: 0.18;
        pointer-events: none;
    }

    .app-card:hover {
        transform: translateY(-2px);
        border-color: var(--app-border-strong);
        box-shadow: 0 20px 50px -26px rgba(6, 19, 24, 0.95);
    }

    .app-card--stack {
        border-color: rgba(94, 234, 212, 0.22);
        box-shadow: 0 18px 40px -28px rgba(4, 16, 20, 0.95);
    }

    .app-card--nested {
        background: linear-gradient(135deg, rgba(12, 19, 23, 0.92), rgba(11, 18, 22, 0.88));
        border-color: rgba(94, 234, 212, 0.12);
        box-shadow: inset 0 0 0 1px rgba(5, 12, 15, 0.6);
    }

    .app-card--nested:hover {
        transform: none;
        border-color: rgba(94, 234, 212, 0.18);
        box-shadow: inset 0 0 0 1px rgba(5, 12, 15, 0.6);
    }

    .app-chip {
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        padding: 0.2rem 0.6rem;
        border-radius: 999px;
        font-weight: 600;
        font-size: 0.7rem;
        letter-spacing: 0.02em;
        text-transform: uppercase;
        background: rgba(39, 194, 176, 0.12);
        color: #bff3eb;
        border: 1px solid rgba(39, 194, 176, 0.35);
    }

    .app-chip--warm {
        background: rgba(100, 226, 214, 0.16);
        border-color: rgba(100, 226, 214, 0.4);
        color: #bff9f1;
    }

    .app-tab {
        position: relative;
        padding-bottom: 0.9rem;
        font-weight: 600;
        color: rgba(231, 225, 216, 0.6);
        transition: color 180ms ease;
    }

    .app-tab.active {
        color: #e7e1d8;
    }

    .app-tab.active::after {
        content: "";
        position: absolute;
        left: 0;
        right: 0;
        bottom: -2px;
        height: 2px;
        border-radius: 999px;
        background: linear-gradient(90deg, rgba(39, 194, 176, 0.95), rgba(100, 226, 214, 0.85));
        box-shadow: 0 0 16px rgba(39, 194, 176, 0.6);
    }

    .app-field {
        background: rgba(15, 24, 30, 0.8);
        border: 1px solid rgba(94, 234, 212, 0.2);
        color: var(--app-ink);
        box-shadow: inset 0 0 0 1px rgba(15, 24, 30, 0.5);
    }

    .app-field:focus {
        border-color: rgba(39, 194, 176, 0.7);
        box-shadow: 0 0 0 3px rgba(39, 194, 176, 0.22);
    }

    .app-section-title {
        font-size: 1.05rem;
        font-weight: 600;
        letter-spacing: -0.01em;
        color: #f5f2eb;
    }

    .app-meta {
        font-size: 0.78rem;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: rgba(231, 225, 216, 0.58);
    }

    .history-track {
        display: grid;
        grid-auto-flow: column;
        grid-auto-columns: minmax(9.5rem, 1fr);
        gap: 0.65rem;
        overflow-x: auto;
        padding-bottom: 0.35rem;
        scrollbar-width: thin;
        scrollbar-color: rgba(94, 234, 212, 0.3) transparent;
    }

    .history-track::-webkit-scrollbar {
        height: 6px;
    }

    .history-track::-webkit-scrollbar-track {
        background: transparent;
    }

    .history-track::-webkit-scrollbar-thumb {
        border-radius: 999px;
        background: rgba(94, 234, 212, 0.3);
    }

    .history-day {
        position: relative;
        border-radius: 0.95rem;
        border: 1px solid rgba(94, 234, 212, 0.14);
        background: linear-gradient(155deg, rgba(9, 16, 20, 0.88), rgba(7, 13, 16, 0.78));
        padding: 0.7rem;
        transition: border-color 160ms ease, transform 160ms ease, background 160ms ease;
    }

    .history-day:hover {
        transform: translateY(-1px);
        border-color: rgba(94, 234, 212, 0.32);
    }

    .history-day.is-active {
        border-color: rgba(94, 234, 212, 0.42);
        background: linear-gradient(155deg, rgba(11, 20, 24, 0.96), rgba(8, 16, 20, 0.86));
    }

    .history-day.is-today {
        box-shadow: inset 0 0 0 1px rgba(94, 234, 212, 0.32);
    }

    .history-meter {
        margin-top: 0.45rem;
        height: 0.48rem;
        border-radius: 999px;
        background: rgba(148, 163, 184, 0.16);
        overflow: hidden;
    }

    .history-meter-fill {
        height: 100%;
        width: 100%;
        transform-origin: left center;
        border-radius: 999px;
        background: linear-gradient(90deg, rgba(45, 212, 191, 0.95), rgba(34, 211, 238, 0.95));
        box-shadow: 0 0 10px rgba(45, 212, 191, 0.35);
    }

    .history-stat {
        display: inline-flex;
        align-items: center;
        gap: 0.3rem;
        border-radius: 999px;
        border: 1px solid rgba(94, 234, 212, 0.2);
        background: rgba(9, 16, 20, 0.6);
        padding: 0.2rem 0.6rem;
        font-size: 0.72rem;
        color: rgba(231, 225, 216, 0.82);
    }

    @media (min-width: 1024px) {
        .history-track {
            grid-auto-columns: minmax(0, 1fr);
        }
    }

    .app-link {
        color: #93f3e7;
        text-decoration: underline;
        text-decoration-color: rgba(147, 243, 231, 0.45);
        text-underline-offset: 0.2em;
        transition: color 160ms ease, text-decoration-color 160ms ease;
    }

    .app-link:hover {
        color: #c8fbf4;
        text-decoration-color: rgba(200, 251, 244, 0.88);
    }

    .app-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.4rem;
        padding: 0.62rem 1rem;
        border-radius: 0.72rem;
        font-size: 0.76rem;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        border: 1px solid transparent;
        transition: transform 150ms ease, box-shadow 160ms ease, background-color 160ms ease, color 160ms ease, border-color 160ms ease;
    }

    .app-btn:focus-visible {
        outline: none;
        box-shadow: 0 0 0 3px rgba(39, 194, 176, 0.3);
    }

    .app-btn:disabled {
        opacity: 0.55;
        cursor: not-allowed;
    }

    .app-btn:not(:disabled):hover {
        transform: translateY(-1px);
    }

    .app-btn-primary {
        background: linear-gradient(135deg, rgba(30, 185, 165, 0.95), rgba(16, 168, 150, 0.95));
        color: #f3fffd;
        border-color: rgba(94, 234, 212, 0.35);
        box-shadow: 0 16px 36px -26px rgba(19, 169, 153, 0.95);
    }

    .app-btn-primary:not(:disabled):hover {
        background: linear-gradient(135deg, rgba(44, 201, 181, 0.95), rgba(22, 184, 164, 0.95));
        box-shadow: 0 18px 40px -24px rgba(22, 184, 164, 0.9);
    }

    .app-btn-secondary {
        background: rgba(10, 18, 22, 0.62);
        color: rgba(231, 225, 216, 0.88);
        border-color: rgba(94, 234, 212, 0.2);
    }

    .app-btn-secondary:not(:disabled):hover {
        background: rgba(14, 24, 29, 0.75);
        color: #f5f2eb;
        border-color: rgba(94, 234, 212, 0.32);
    }

    .app-btn-danger {
        background: rgba(190, 24, 54, 0.2);
        color: #ffd0db;
        border-color: rgba(251, 113, 133, 0.42);
    }

    .app-btn-danger:not(:disabled):hover {
        background: rgba(225, 29, 72, 0.3);
        color: #ffe3ea;
        border-color: rgba(251, 113, 133, 0.55);
    }

    .app-input-label {
        display: block;
        margin-bottom: 0.3rem;
        font-size: 0.78rem;
        font-weight: 600;
        letter-spacing: 0.02em;
        color: rgba(231, 225, 216, 0.72);
    }

    .app-input {
        width: 100%;
        border-radius: 0.72rem;
        background: rgba(11, 20, 24, 0.88);
        border: 1px solid rgba(94, 234, 212, 0.22);
        color: #f5f2eb;
        box-shadow: inset 0 0 0 1px rgba(4, 12, 15, 0.6);
        transition: border-color 160ms ease, box-shadow 160ms ease, background-color 160ms ease;
    }

    .app-input::placeholder {
        color: rgba(231, 225, 216, 0.36);
    }

    .app-input:focus {
        border-color: rgba(94, 234, 212, 0.66);
        box-shadow: 0 0 0 3px rgba(39, 194, 176, 0.2);
        background: rgba(14, 24, 29, 0.95);
        outline: none;
    }

    .app-input-error {
        margin-top: 0.3rem;
        font-size: 0.8rem;
        color: #fca5a5;
    }

    .app-auth-shell {
        width: min(30rem, 100%);
        position: relative;
        z-index: 1;
    }

    .app-auth-brand {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.7rem;
        margin-bottom: 1rem;
        color: #f5f2eb;
        font-weight: 700;
        letter-spacing: 0.01em;
    }

    .app-auth-heading {
        font-size: 1.6rem;
        line-height: 1.2;
        font-weight: 700;
        color: #f5f2eb;
        letter-spacing: -0.01em;
    }

    .app-auth-subtitle {
        margin-top: 0.38rem;
        font-size: 0.9rem;
        color: rgba(231, 225, 216, 0.66);
    }

    .app-auth-card {
        background: linear-gradient(145deg, rgba(13, 21, 26, 0.96), rgba(9, 16, 20, 0.9));
        border: 1px solid rgba(94, 234, 212, 0.18);
        border-radius: 1.25rem;
        box-shadow: 0 24px 48px -30px rgba(4, 14, 19, 0.95);
        backdrop-filter: blur(14px);
    }

    .app-modal-backdrop {
        background: rgba(2, 8, 10, 0.72);
        backdrop-filter: blur(2px);
    }

    .app-modal-panel {
        background: linear-gradient(145deg, rgba(13, 21, 26, 0.98), rgba(10, 17, 22, 0.94));
        border: 1px solid rgba(94, 234, 212, 0.2);
        box-shadow: 0 24px 56px -26px rgba(3, 10, 14, 0.95);
        border-radius: 1rem;
    }

    @keyframes riseIn {
        0% {
            opacity: 0;
            transform: translateY(10px);
        }
        100% {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .app-reveal {
        animation: riseIn 360ms ease both;
    }

    .go-screen {
        position: relative;
        isolation: isolate;
    }

    .go-screen::before {
        content: "";
        position: absolute;
        inset: 0;
        background:
            radial-gradient(600px 420px at 50% 30%, rgba(39, 194, 176, 0.18), transparent 70%),
            radial-gradient(520px 380px at 80% 60%, rgba(100, 226, 214, 0.16), transparent 70%);
        opacity: 0.9;
        z-index: -1;
    }

    .go-screen--rest::before {
        background:
            radial-gradient(620px 440px at 50% 30%, rgba(56, 189, 248, 0.22), transparent 70%),
            radial-gradient(520px 380px at 78% 62%, rgba(34, 211, 238, 0.18), transparent 70%);
    }

    .go-orb {
        position: relative;
        border-radius: 999px;
        box-shadow: 0 0 60px -30px rgba(39, 194, 176, 0.45);
    }

    .go-ring {
        filter: drop-shadow(0 0 10px rgba(39, 194, 176, 0.2));
    }

    .go-pill {
        background: rgba(12, 21, 25, 0.8);
        border: 1px solid rgba(94, 234, 212, 0.25);
        box-shadow: inset 0 0 0 1px rgba(5, 12, 15, 0.5);
    }

    .go-cta {
        box-shadow: 0 16px 40px -28px rgba(16, 185, 129, 0.7);
    }

    @keyframes goFloat {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-6px); }
    }

    .go-float {
        animation: goFloat 6s ease-in-out infinite;
    }

    .edge-pulse {
        animation: edgePulse 3.6s cubic-bezier(0.4, 0, 0.2, 1) infinite;
        opacity: 0.8;
    }

    @keyframes edgePulse {
        0% { stroke-dashoffset: 0; opacity: 0.08; }
        25% { opacity: 0.3; }
        50% { opacity: 0.5; }
        75% { opacity: 0.28; }
        100% { stroke-dashoffset: -22; opacity: 0.06; }
    }

    .edge-pulse-paused .edge-pulse {
        animation-play-state: paused;
        opacity: 0.12;
    }

    @media (prefers-reduced-motion: reduce) {
        .go-float {
            animation: none;
        }
        .edge-pulse {
            animation: none;
        }
        .app-reveal {
            animation: none;
        }
    }
}

/* Print Styles */
@media print {
    /* Hide navigation, header, and non-essential elements */
    nav[aria-label="Tabs"],
    button[aria-controls],
    .no-print {
        display: none !important;
    }

    /* Show all tab content when printing */
    [role="tabpanel"] {
        display: block !important;
        opacity: 1 !important;
    }

    /* Optimize gantt chart for printing */
    .bg-gray-50,
    .bg-gray-900 {
        background-color: white !important;
    }

    /* Ensure colors are visible in print */
    .bg-emerald-500,
    .bg-emerald-600 {
        background-color: #10b981 !important;
        print-color-adjust: exact;
        -webkit-print-color-adjust: exact;
    }

    .bg-gray-200,
    .bg-gray-700 {
        background-color: #e5e7eb !important;
        border: 1px solid #d1d5db !important;
    }

    /* Remove shadows and transitions for print */
    * {
        box-shadow: none !important;
        transition: none !important;
    }

    /* Optimize page breaks */
    .gantt-section {
        page-break-inside: avoid;
    }

    /* Set page margins */
    @page {
        margin: 1cm;
    }
}
